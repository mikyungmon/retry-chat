<template name="roomListPage">
  <div class="vh-100 d-flex flex-column">

    <div class="chat-bg-color">
      <div class="p-3 d-flex justify-content-between">
        <h2>ChatRooms</h2>

        <div>
          <button class="btn btn-pink btn-lg btn_create_room">
            <i class="bi bi-chat-dots-fill"></i>
            +
          </button>

          <button class="btn btn-pink btn-lg">
            <i class="bi bi-search"></i>
          </button>

          <button class="btn btn-pink btn-lg btn_logout">
            <i class="bi bi-box-arrow-right"></i>
          </button>

        </div>

      </div>

    </div>

    <div class="chat-bg-color2 flex-grow-1 position-relative">
      <div class="overflow-auto position-absolute card-position">

        {{#each data in room_list}}
        {{#with data}}
        <div class="row mx-0 border-bottom bg-light rounded-3 room_row">
          <div class="p-3 col d-flex">
            <img class="rounded float-start img-size"
                 src="{{data.lastUserAvatar}}">
            <div class="flex-grow-1 ps-3">
              <p class="mb-2">{{data.lastUserName}}</p>
              <p class="text-muted">{{data.lastMessage}}</p>
            </div>

          </div>

          <div class="p-3 col">
            <div class="text-end">
              <p class="mb-2">{{getDate data.updatedAt}}</p>

              {{#if isJoiner data.joiner}}
                  <p>{{isRead data._id}}</p>
                  <span class="badge rounded-pill text-bg-warning">참여중</span>
<!--                {{#if isRead}}-->
                  <p class="mb-1"><span class="badge rounded-pill text-bg-primary">읽음</span></p>
<!--                {{else}}-->
                  <p class="mb-1"><span class="badge rounded-pill text-bg-danger">읽지 않음</span></p>
<!--                {{/if}}-->
              {{else}}
                <span class="badge rounded-pill text-bg-secondary">참여하지 않은 방</span>
              {{/if}}
            </div>

          </div>
        </div>
        {{/with}}
        {{/each}}
      </div>
    </div>
  </div>

</template>
